services:
  firestore:
    image: gcr.io/google.com/cloudsdktool/google-cloud-cli:emulators
    container_name: firestore-emulator
    ports:
      - "8081:8081"  # Firestore emulator port
    environment:
      - FIRESTORE_PROJECT_ID=lazyspender-local
    command: >
      gcloud emulators firestore start
      --host-port=0.0.0.0:8081
      --project=${FIRESTORE_PROJECT_ID:-lazyspender-local}
    volumes:
      - firestore-data:/opt/data
    restart: unless-stopped

volumes:
  firestore-data:
    driver: local
